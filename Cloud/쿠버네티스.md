# 쿠버네티스(Kubernetes)
* 컨테이너형 애플리케이션의 배포, 확장, 관리를 자동화하는 오픈 소스 시스템
* 구글이 개발하여 CNCF(Cloud Native Computing Foundation)에 기부
    * CNCF : 클라우드 네이티브 오픈소스 기술들을 추진하고 관리하는 단체

### 1. 장점
* 높은 확장성, 원활한 이동성(이식성)
* 퍼블릭/프라이빗/하이브리드/멀티 클라우드, 로컬 또는 원격 가상 머신, 베어메탈과 같은 여러 환경에 구축 가능
* 오픈 소스 도구의 장점
* 플러그가 가능한 모듈 형식

### 2. 쿠버네티스의 아키텍쳐
* Cluster 안에 Master Node와 Worker Node로 구성됨
* 마스터 노드 : 제어, 관리 역할
* 워커 노드 : 데이터(컨테이너)가 배치

**1. Master Node**
* API Server : API를 사용할 수 있게 해주는 프로세스
* Scheduler : Pod의 생성 명령이 있을경우 어떤 NodeNode에 배포할지 결정
    * Pod : 컨테이너를 담는 통. 쿠버네티스로 컨테이너를 배포하려면 어딘가에 담는 작업이 필요한데, 그 역할을 하는 것이 pod
* Controller Managers : 클러스터의 상태를 조절 하는 컨트롤러들을 생성하고 배포. 즉, 사용자가 원하는 상태로 클러스트의 상태를 변경함.
* etcd : 모든 클러스터의 구성 데이터를 저장하는 저장소. 모든 워커노드의 정보(이름, ip, 구성 등)가 이곳에 저장됨

**2. Worker Node**
* Container Runtime : 컨테이너 이미지 관리 및 배포, 실행
* kubelet : 팀장 역할. Api에 연락을 받아 일을 수행하고, 일을 잘 수행했는지 보고서를 작성해서 Api 서버에 주기적으로 보고하며, Api 서버는 보고받은 내역을 etcd에 저장한다.
* kube-proxy : 쿠버네티스 클러스터의 각 노드마다 실행되고 있으면서, 각 노드간의 통신을 담당

### 3. 쿠버네티스 클러스터의 배포
1. All-in-One Single-Node Installation
* 마스터 역할 + 워커 역할을 하나의 역할에 넣어서 배포
* 학습 및 테스트 용도로만 사용해야 함
2. Single-Node etcd, Single-Master and Multi-Worker Installation
* 마스터 노드 하나에 워커 노드 여러개
3. Single-Node etcd, Multi-Master and Multi-Worker Installation
* 마스터 노드 여러개, etcd는 한개, 워크 노드 여러개
4. Multi-Node etcd, Multi-Master and Multi-Worker Installation
* 마스터 노드와 etcd 여러개, 워크 노드 여러개 
* 현업에서 사용하는 걸 권장

