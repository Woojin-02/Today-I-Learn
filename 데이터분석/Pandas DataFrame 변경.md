# Pandas (DataFrame 변경)

### 1. 열 변경

1. 열 이름 변경
    * 모든 열 이름 변경
        * 데이터프레임에 있는 모든 열 이름을 변경해야 한다.
        * data.columns = ['bill', 'tip', 'sex', 'day', 'time']
    * rename() 메소드
        * 지정한 열 이름 변경
        * data.rename(columns ={ 'bill' : 'total_bill', 'sex': 'Gender'}, inplace=True)

2. 열 추가
    * 맨 뒤에 열 추가
        * data['추가할 열 이름'] = 열에 넣을 내용
    * 지정한 위치에 열 추가
        * insert() 메소드
        * data.insert(1(열 위치), '열 이름', 열에 들어갈 내용)

3. 열 삭제
    * drop() 메소드
        * axis = 0 : 행 삭제(기본값)
        * axis = 1 : 열 삭제
        * data.drop('day', axis = 1, inplace=True)
        * data.drop(['day', 'time'], axis = 1, inplace = True)
    * ***삭제를 진행할 땐 매우 주의해야 하기 때문에 .copy() 메소드를 이용해서 다른 변수에 데이터프레임을 저장한 후 사용해야 함***

* inplace : 메소드에 명령한 내용대로 데이터프레임을 수정할지 수정하지 않을지 결정
    * inplace = True : 진짜로 삭제해
    * inplace = False : 삭제한 것처럼 보여줘

### 2. 값 변경

1. 열 전체 값 변경
    * data['열 이름'] = 바꾸려는 값
    * 열의 모든 값을 바꾸려고 하는 값(0, 1, expensive 등)으로 변경

2. 조건에 의한 값 변경
    * loc 활용
        * data.loc[data['열이름'] < 10, '열이름'] = 바꾸려는 값
        * 데이터프레임 열의 값이 조건( <10) 을 만족하는 경우, 바꾸려는 값으로 바꾸기
    * np.where 활용
        * data['열이름'] = np.where(data['열이름'], 10, 0, 1)
        * np.where를 사용하면 한번에 두가지를 변경할 수 있으므로, loc 활용의 중첩을 막음

3. **map**
    * 기존 값을 다른 값으로 변경(매핑)
        * data['열이름'] = data['열이름'].map({'기존값':'새로운 값', '기존값':'새로운 값'})

4. **cut**
    * pd.cut()
    * 숫자형 변수를 범주형 변수로 변환함(나이를 나이대로 바꾸는 등)
    * 값 크기를 기준으로 지정한 개수의 범위로 나누어 범주 값 지정
        * data['열이름'] = pd.cut(data['열이름'], 균등 간격, 범주의 이름)
        * 균등 간격은 3, 4 등의 숫자로 지정이 가능하다. 3으로 지정할 경우, 자동으로 3등분으로 일정하게 범주를 나눈다.
        * 혹은 직접 지정이 가능하다. [0, 10, 20, 30] 으로 지정하면 3가지의 범주가 생긴다. 모든 범주는 < <= 관계가 기본.
        * ***cut으로 범주를 나눌 때, 나누어진 값의 수가 균등하게 나오는 것이 아닌 범주가 균등하게 배분되도록 나뉜다.(count_values로 확인)***
